<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venta y Reparaciones</title>
    <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="menu-acordeon.css">

    <style>
     

        /* Botones en la parte superior */
        .top-buttons {
            display: flex;
            gap: 10px;
            justify-content: center; /* Centrar los botones */
            margin-bottom: 20px;
        }

        /* Estilo de las imágenes y los selectores */
        .treasure-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .treasure-image {
            width: 290px;
            border-radius: 5%;
        }

        button, select {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 0;
        }

        /* Contenedor de las dos imágenes en grid */
        .two-treasures-container {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Dividir en dos columnas */
            gap: 20px;
            
            justify-items: center; /* Centrar contenido en cada celda */
        }
        button{
           padding: 10px;
            margin: 10px 0;
            width: 100%;
            width: 100%;
            padding: 12px;
            border: 2px solid #9d5c48;
            border-radius: 6px;
            font-size: 18px;
            transition: border-color 0.3s;
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
            appearance: none;  
            color: #d4af37;
            text-align: center;
            text-shadow: 1px 1px 2px #000;
        }
        input {
            padding: 10px;
            margin: 10px 0;
            width: 100%;
            width: 100%;
            padding: 12px;
            border: 2px solid #9d5c48;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
            background: rgba(40, 40, 40, 0.9);
            color: #fff;
            background-image: url('img/interface/select_arrow.png');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
            padding-right: 35px;
            appearance: none;
        }
         .info-panel h4 {
            color: #d4af37;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #8B4513;
            text-align: center;
            text-shadow: 1px 1px 2px #000;
        }
          .btn_calcular_valores {
            width: 120px;
            height: 120px;
            background: url('img/interface/btn_forja_reparar.png') no-repeat center center;
            background-size: contain;
            border: 2px solid #9d5c48;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;

        }
         .btn-wrap {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            /* o 100vh para centrar en pantalla */
        }
        .info-panel h3 {
            color: #d4af37;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #8B4513;
            text-align: center;
            text-shadow: 1px 1px 2px #000;
        }
         h1 {
            color: #d4af37;
            display: inline;
            font-weight: bold;
            font-size: 20px;
        }
    </style>
</head>
<body style=" background-image: url('img/interface/fondo_forja.png');
    background-size: cover;        /* la imagen cubre todo el viewport */
    background-repeat: no-repeat;  /* no se repite */
    background-position: center;   /* centrada */
    margin: 0;
    min-height: 100vh;             /* asegura que cubra el alto completo */
">
    <!-- Carga del menú lateral -->
    
    <div class="menu">
        <iframe src="menu.html" frameborder="0" class="menu-frame"></iframe>
        <button id="toggleMenu">☰</button>
    </div>

    <!-- Zona de contenido principal -->
    <div class="main-content">
        <!-- Botones en la parte superior centrados -->
        <div class="top-buttons">
            
        </div>

      <div class="info-panel">
                <h1>Calculadora de Valor de Venta y Reparación</h1>

                <!-- Campo: Valor de compra -->
                <div>
                    <h3>Valor de compra:</h3>
                    <input type="number" id="valorCompra" class="Input" value="10" min="10" max="50000" step="10"
                        placeholder="Ingresa el valor de compra" />
                </div>

                <!-- Campo: Puntos de durabilidad -->
                <div>
                    <h3>Puntos perdidos de durabilidad (0-12):</h3>
                    <input type="number" id="puntosDurabilidad" class="Input" value="0" min="0" max="12"
                        placeholder="Ingresa los puntos perdidos de durabilidad" />
                </div>

                <!-- Botón calcular -->
                <div class="btn-wrap">
                    <button class="btn_calcular_valores" onclick="calcularValores()" class="btn btn-primary"></button>
                 <!-- Resultados -->
                <div style="margin-left: 10px;">
                    <h3>Resultados:</h3>
                    <h4 id="resultadoVenta">Valor de venta: </h4>
                    <h4 id="resultadoReparacion">Valor de reparación por punto: </h4>
                </div>
                </div>
               
            </div>
    </div>

    <script>
        // La tabla de valores
        const tablaValores = [
            [7, 6, 5, 4, 3, 2], [14, 12, 10, 8, 6, 4], [21, 18, 15, 12, 9, 6],
            [28, 24, 20, 16, 12, 8], [35, 30, 25, 20, 15, 10], [42, 36, 30, 24, 18, 12],
            [49, 42, 35, 28, 21, 14], [56, 48, 40, 32, 24, 16], [63, 54, 45, 36, 27, 18],
            [70, 60, 50, 40, 30, 20], [77, 66, 55, 44, 33, 22], [84, 72, 60, 48, 36, 24],
            [91, 78, 65, 52, 39, 26], [98, 84, 70, 56, 42, 28], [105, 90, 75, 60, 45, 30],
            [112, 96, 80, 64, 48, 32], [119, 102, 85, 68, 51, 34], [126, 108, 90, 72, 54, 36],
            [133, 114, 95, 76, 57, 38], [140, 120, 100, 80, 60, 40], [147, 126, 105, 84, 63, 42],
            [154, 132, 110, 88, 66, 44], [161, 138, 115, 92, 69, 46], [168, 144, 120, 96, 72, 48],
            [175, 150, 125, 100, 75, 50], [182, 156, 130, 104, 78, 52], [189, 162, 135, 108, 81, 54],
            [196, 168, 140, 112, 84, 56], [203, 174, 145, 116, 87, 58], [210, 180, 150, 120, 90, 60],
            [217, 186, 155, 124, 93, 62], [224, 192, 160, 128, 96, 64], [231, 198, 165, 132, 99, 66],
            [238, 204, 170, 136, 102, 68], [245, 210, 175, 140, 105, 70], [252, 216, 180, 144, 108, 72],
            [259, 222, 185, 148, 111, 74], [266, 228, 190, 152, 114, 76], [273, 234, 195, 156, 117, 78],
            [280, 240, 200, 160, 120, 80], [287, 246, 205, 164, 123, 82], [294, 252, 210, 168, 126, 84],
            [301, 258, 215, 172, 129, 86], [308, 264, 220, 176, 132, 88], [315, 270, 225, 180, 135, 90],
            [322, 276, 230, 184, 138, 92], [329, 282, 235, 188, 141, 94], [336, 288, 240, 192, 144, 96],
            [343, 294, 245, 196, 147, 98], [350, 300, 250, 200, 150, 100]
        ];

        // Función para calcular el valor de venta y reparación
        function calcularValores() {
            const valorCompra = parseInt(document.getElementById("valorCompra").value);
            let puntosDurabilidad = parseInt(document.getElementById("puntosDurabilidad").value);
            if (puntosDurabilidad > 5) {
                puntosDurabilidad = 5;
            }

            if (isNaN(valorCompra) || isNaN(puntosDurabilidad) || puntosDurabilidad < 0 || puntosDurabilidad > 12) {
                document.getElementById("resultadoVenta").textContent = "Por favor, ingrese valores válidos.";
                document.getElementById("resultadoReparacion").textContent = "";
                return;
            }

            let valorVenta = 0;
            let valorReparacion = 0;
            let restante = valorCompra;

            // Lógica para calcular el valor de venta basado en la tabla
            while (restante > 0) {
                const tope = Math.min(500, restante); // Máximo de 500 por iteración
                const fila = Math.floor((tope - 10) / 10); // Filas de la tabla empiezan en 10
                valorVenta += tablaValores[fila][puntosDurabilidad];
                valorReparacion += tablaValores[fila][5]; // Tomamos el valor de la última columna para reparación
                restante -= tope;
            }

            document.getElementById("resultadoVenta").textContent = "Valor de venta: " + valorVenta;
            document.getElementById("resultadoReparacion").textContent = "Valor de reparación por punto: " + valorReparacion;
        }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    <script src="menu-acordeon.js"></script>

</body>
</html>
